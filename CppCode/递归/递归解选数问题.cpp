/*
??n?????????k?????????????????k???????????????§Ø?????
??n=4,k=3,4?????3 7 12 19         ??????????????3+7+12=22
????:4  3											 3+7=19=29	
     3 7 12 19										 7+12+19=38
	cout<<1;							             3+12+19=34						 
*/
#include<iostream>
using namespace std;
int n,k,count=0,sum=0;
int x[100],v[100];
bool is_prime(int m)//?§Ø????????? 
{
	for(int i=2;i<m/2;i++)
		if(m%i==0) return false;
	return true;
}
void dfs(int dep,int y)//dep??????????dep-1?????????y~n????????§Ò?? 
{
	if(dep==k+1&&is_prime(sum)){
		count++;
		return;
	}
	for(int i=y;i<=n;i++){
		if(v[i]==0){
			sum+=x[i];
			v[i]=1;
			dfs(dep+1,i+1);
			sum-=x[i];
			v[i]=0;
		}
	}
}
int main()
{
	cin>>n>>k;
	for(int i=1;i<=n;i++)
		cin>>x[i];
	dfs(1,1); 
	cout<<count;
	return 0;
}
